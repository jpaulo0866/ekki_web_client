(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{280:function(e){e.exports={api_url:"https://vast-beach-23928.herokuapp.com"}},298:function(e,t,a){e.exports=a(657)},657:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(35),r=a.n(l),i=a(16),s=a(17),c=a(20),d=a(18),u=a(19),m=a(55),h=a(31),p=a(271),g=a(5),f=a.n(g),C=a(23),E=a(134),b=a.n(E),v=a(292),O=a.n(v),j=a(289),w=a.n(j),y=a(177),k=a.n(y),S=a(75),P=a.n(S),A=a(22),D=a.n(A),M=a(294),x=a.n(M),N=a(32),T=a.n(N),B=a(290),I=a.n(B),R=a(293),F=a.n(R),L=a(291),W=a.n(L),_=a(57),V=a.n(_),Y=a(45),z=a.n(Y),U=a(63),q=a.n(U),H=a(37),X=a.n(H),J=a(275),K=a.n(J),$=a(274),G=a.n($),Q=a(276),Z=a.n(Q),ee=a(277),te=a.n(ee),ae=a(278),ne=a.n(ae),oe=o.a.createElement("div",null,o.a.createElement(m.b,{to:"/home",style:{textDecoration:"none"}},o.a.createElement(z.a,{button:!0},o.a.createElement(q.a,null,o.a.createElement(G.a,null)),o.a.createElement(X.a,{primary:"Home"}))),o.a.createElement(m.b,{to:"/creditcards",style:{textDecoration:"none"}},o.a.createElement(z.a,{button:!0},o.a.createElement(q.a,null,o.a.createElement(K.a,null)),o.a.createElement(X.a,{primary:"Meus Cart\xf5es"}))),o.a.createElement(m.b,{to:"/contacts",style:{textDecoration:"none"}},o.a.createElement(z.a,{button:!0},o.a.createElement(q.a,null,o.a.createElement(Z.a,null)),o.a.createElement(X.a,{primary:"Contatos"}))),o.a.createElement(m.b,{to:"/transfers",style:{textDecoration:"none"}},o.a.createElement(z.a,{button:!0},o.a.createElement(q.a,null,o.a.createElement(te.a,null)),o.a.createElement(X.a,{primary:"Transfer\xeancias"}))),o.a.createElement(m.b,{to:"/changepass",style:{textDecoration:"none"}},o.a.createElement(z.a,{button:!0},o.a.createElement(q.a,null,o.a.createElement(ne.a,null)),o.a.createElement(X.a,{primary:"Alterar Senha"})))),le=a(76),re=a(41),ie=a.n(re),se=a(42),ce=a.n(se),de=a(67),ue=a.n(de),me=a(286),he=a.n(me),pe=a(281),ge=a.n(pe),fe=a(282),Ce=a.n(fe),Ee=a(106),be=a.n(Ee),ve=a(174),Oe=a.n(ve),je=a(175),we=a.n(je),ye=a(285),ke=a.n(ye),Se=a(173),Pe=a.n(Se),Ae=a(128),De=a.n(Ae),Me=a(66),xe=a.n(Me),Ne=a(107),Te=a.n(Ne),Be=a(179),Ie=a(279),Re=a.n(Ie),Fe=new(a(297).a),Le=function(){return null!=Fe.get("ekki_token")},We=function(){return Le()?JSON.parse(Fe.get("ekki_token",{doNotParse:!0})):null},_e=function(e){var t=new Date;t.setHours(t.getHours()+1),Fe.set("ekki_token",JSON.stringify(e),{path:"/",expires:t})},Ve=function(e,t){return He.post("/login",{email:e,password:t})},Ye=function(e,t,a,n){return He.put("/user/changepass",{email:e,password:t,newPassword:a,token:n})},ze=function(){Fe.remove("ekki_token"),window.location.reload()},Ue=a(280),qe=Re.a.create({baseURL:Ue.api_url});qe.interceptors.request.use(function(){var e=Object(Be.a)(Te.a.mark(function e(t){var a;return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=We())&&(t.headers.token=a.token),e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),qe.interceptors.response.use(function(){var e=Object(Be.a)(Te.a.mark(function e(t){return Te.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),401!==t.status&&403!==t.status||ze(),e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),function(e){return console.log(e),e.toString().includes("status code 401")&&ze(),Promise.reject(e)});var He=qe,Xe=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={data:[]},a.formatDate=function(e){return xe()(e).format("DD/MM/YYYY hh:mm:ss")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;He.get("/transfer/find/weekly/transfers").then(function(t){var a=t.data.data;a.forEach(function(t){t.created=e.formatDate(t.created)}),e.setState({data:a})})}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("main",null,o.a.createElement(ie.a,{className:e.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Transfer\xeancias na Semana"),o.a.createElement(ge.a,{width:"99%",height:320},o.a.createElement(Ce.a,{data:this.state.data},o.a.createElement(Oe.a,{dataKey:"created"}),o.a.createElement(we.a,null),o.a.createElement(ke.a,{vertical:!1,strokeDasharray:"3 3"}),o.a.createElement(Pe.a,null),o.a.createElement(De.a,null),o.a.createElement(be.a,{type:"monotone",dataKey:"favored.name",name:"Favorecido",stroke:"#88aa11"}),o.a.createElement(be.a,{type:"monotone",dataKey:"identification",name:"Identifica\xe7\xe3o",stroke:"#44aa33"}),o.a.createElement(be.a,{type:"monotone",dataKey:"value",name:"Valor",stroke:"#7744aa",activeDot:{r:8}}))))))}}]),t}(o.a.Component),Je=Object(C.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},card:{minWidth:275,margin:"10px"}}})(Xe),Ke=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={open:!0,accountBalance:null},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;He.get("/transaction/mybalance").then(function(t){e.setState({accountBalance:t.data.data})})}},{key:"getUserName",value:function(){return We().user.name}},{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("main",null,o.a.createElement("div",null,o.a.createElement(ie.a,{className:e.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{variant:"h5",component:"h1"},"Seja Bem Vindo(a) ".concat(this.getUserName())))),o.a.createElement(ie.a,{className:e.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Saldo Atual"),o.a.createElement(D.a,{variant:"h5",component:"h1",style:{color:"green"}},"R$ ".concat(this.state.accountBalance?this.state.accountBalance.value.toLocaleString(void 0,{minimumFractionDigits:2}):0)))),o.a.createElement(ie.a,{className:e.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{className:e.title,color:"textSecondary",gutterBottom:!0},"Extrato dos \xdaltimos 7 Dias"),o.a.createElement(P.a,null,this.state.accountBalance?this.state.accountBalance.history.map(function(e){return o.a.createElement(z.a,null,"In"===e.type?o.a.createElement(q.a,null,o.a.createElement(ue.a,{color:"primary"})):o.a.createElement(q.a,null,o.a.createElement(he.a,{color:"secondary"})),o.a.createElement(X.a,{primary:"In"===e.type?"De: ".concat(e.from.name):"Para: ".concat(e.to.name)}),o.a.createElement(X.a,{primary:"Data: ".concat(xe()(e.created).format("DD/MM/YYYY hh:mm:ss"))}),o.a.createElement(X.a,{primary:"Valor: R$ ".concat(e.value.toLocaleString(void 0,{minimumFractionDigits:2}))}),o.a.createElement(X.a,{primary:"Identifica\xe7\xe3o: ".concat(e.identification)}))}):null)))),o.a.createElement("div",null,o.a.createElement(Je,null)))}}]),t}(o.a.Component),$e=Object(C.withStyles)(function(e){return{card:{minWidth:275,margin:"10px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})(Ke),Ge=a(3),Qe=a(90),Ze=a.n(Qe),et=a(92),tt=a.n(et),at=a(10),nt=a.n(at),ot=a(91),lt=a.n(ot),rt=a(47),it=a.n(rt),st=a(93),ct=a.n(st),dt=a(94),ut=a.n(dt),mt=a(39),ht=a.n(mt),pt=a(49),gt=a(27),ft=a.n(gt),Ct=a(25),Et=a.n(Ct),bt=a(40),vt=a.n(bt),Ot=a(44),jt=a.n(Ot),wt=a(87),yt=a.n(wt),kt=a(287),St=a.n(kt),Pt=a(68),At=a.n(Pt),Dt=a(176),Mt=a.n(Dt);function xt(e){return o.a.createElement(Mt.a,Object.assign({direction:"up"},e))}var Nt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleClose=function(){a.props.onClose()},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onClose,e.title),a=e.message,n=Object(pt.a)(e,["onClose","title","message"]);return o.a.createElement(vt.a,Object.assign({TransitionComponent:xt,keepMounted:!0,onClose:this.handleClose},n),o.a.createElement(At.a,null,t),o.a.createElement(jt.a,null,o.a.createElement(St.a,null,a)),o.a.createElement(yt.a,null,o.a.createElement(ft.a,{onClick:this.handleClose,color:"primary"},"Fechar")))}}]),t}(o.a.Component),Tt=a(136),Bt=a.n(Tt),It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).formValid=function(){return a.state.nome&&a.state.proprietario&&a.state.bandeira&&a.state.numero&&a.state.vencimento&&a.state.cv},a.find=function(e){He.get("/creditcard/".concat(e)).then(function(e){a.setState({id:e.data.data._id,nome:e.data.data.name,proprietario:e.data.data.owner,numero:e.data.data.number,bandeira:e.data.data.flag,vencimento:e.data.data.validThru,cv:e.data.data.cv})}).catch(function(e){return a.openAlertDialog("Erro ao Buscar o Objeto",e.stack)})},a.handleClose=function(){a.props.onClose(a.props.selectedId)},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.handleClose=a.handleClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChange=a.handleChange.bind(Object(Ge.a)(Object(Ge.a)(a))),a.save=a.save.bind(Object(Ge.a)(Object(Ge.a)(a))),a.find=a.find.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={nome:"",proprietario:"",bandeira:"",numero:"",vencimento:"",cv:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"save",value:function(){var e=this,t={_id:this.state.id,name:this.state.nome,owner:this.state.proprietario,number:this.state.numero,flag:this.state.bandeira,validThru:this.state.vencimento,cv:this.state.cv};this.state.id?He.put("/creditcard",t).then(function(t){return e.handleClose()}).catch(function(t){return e.openAlertDialog("Erro Ao Salvar os Dados",t.stack)}):(delete t._id,He.post("/creditcard",t).then(function(t){return e.handleClose()}).catch(function(t){return e.openAlertDialog("Erro Ao Salvar os Dados",t.stack)}))}},{key:"title",value:function(){return this.state.id?"Editar Cart\xe3o":"Adicionar novo Cart\xe3o"}},{key:"componentWillReceiveProps",value:function(){var e=this.props.selectedId;e?this.find(e):this.setState({nome:"",proprietario:"",bandeira:"",numero:"",vencimento:"",cv:""})}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.selectedId,Object(pt.a)(e,["classes","onClose","selectedId"]));return o.a.createElement(vt.a,Object.assign({onClose:this.handleClose},t),o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(jt.a,null,o.a.createElement("div",null,o.a.createElement(D.a,{variant:"h4",component:"h3"},this.title()),o.a.createElement(Et.a,{id:"input-apelido",label:"Apelido",value:this.state.nome,onChange:this.handleChange("nome"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-proprietario",label:"Nome no Cart\xe3o",value:this.state.proprietario,onChange:this.handleChange("proprietario"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-bandeira",label:"Bandeira",value:this.state.bandeira,onChange:this.handleChange("bandeira"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Bt.a,{mask:"9999.9999.9999.9999",value:this.state.numero,onChange:this.handleChange("numero"),maskChar:" "},function(){return o.a.createElement(Et.a,{id:"input-numero",label:"N\xfamero do Cart\xe3o",margin:"normal",variant:"outlined",style:{width:"100%"}})}),o.a.createElement(Bt.a,{mask:"99/99",value:this.state.vencimento,onChange:this.handleChange("vencimento"),maskChar:" "},function(){return o.a.createElement(Et.a,{id:"input-vencimento",label:"Vencimento do Cart\xe3o",margin:"normal",variant:"outlined",style:{width:"100%"}})}),o.a.createElement(Bt.a,{mask:"999",value:this.state.cv,onChange:this.handleChange("cv"),maskChar:" "},function(){return o.a.createElement(Et.a,{id:"input-cv",label:"N\xfamero do CV",margin:"normal",variant:"outlined",style:{width:"100%"}})}),o.a.createElement(ft.a,{disabled:!this.formValid(),variant:"contained",type:"button",color:"primary",onClick:this.save},"Salvar"))))}}]),t}(o.a.Component),Rt=Object(C.withStyles)(function(e){return{}})(It),Ft=a(46),Lt=a.n(Ft),Wt=a(56),_t=a.n(Wt),Vt=a(131),Yt=a.n(Vt),zt=a(132),Ut=a.n(zt),qt=a(182),Ht=a.n(qt),Xt=a(184),Jt=a.n(Xt),Kt=a(183),$t=a.n(Kt),Gt=a(181),Qt=a.n(Gt),Zt=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).handleFirstPageButtonClick=function(e){a.props.onChangePage(e,0)},a.handleBackButtonClick=function(e){a.props.onChangePage(e,a.props.page-1)},a.handleNextButtonClick=function(e){a.props.onChangePage(e,a.props.page+1)},a.handleLastPageButtonClick=function(e){a.props.onChangePage(e,Math.max(0,Math.ceil(a.props.count/a.props.rowsPerPage)-1))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.count,n=e.page,l=e.rowsPerPage,r=e.theme;return o.a.createElement("div",{className:t.root},o.a.createElement(T.a,{onClick:this.handleFirstPageButtonClick,disabled:0===n,"aria-label":"First Page"},"rtl"===r.direction?o.a.createElement(Qt.a,null):o.a.createElement(Ht.a,null)),o.a.createElement(T.a,{onClick:this.handleBackButtonClick,disabled:0===n,"aria-label":"Previous Page"},"rtl"===r.direction?o.a.createElement($t.a,null):o.a.createElement(Jt.a,null)),o.a.createElement(T.a,{onClick:this.handleNextButtonClick,disabled:n>=Math.ceil(a/l)-1,"aria-label":"Next Page"},"rtl"===r.direction?o.a.createElement(Jt.a,null):o.a.createElement($t.a,null)),o.a.createElement(T.a,{onClick:this.handleLastPageButtonClick,disabled:n>=Math.ceil(a/l)-1,"aria-label":"Last Page"},"rtl"===r.direction?o.a.createElement(Ht.a,null):o.a.createElement(Qt.a,null)))}}]),t}(o.a.Component),ea=Object(C.withStyles)(function(e){return{root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit}}},{withTheme:!0})(Zt),ta=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).fetchAll=function(){He.get("/creditcard/".concat(a.state.page+1,"/").concat(a.state.rowsPerPage)).then(function(e){a.setState({data:e.data.data.docs,totalElements:e.data.data.total})}).catch(function(e){a.openAlertDialog("Erro ao Buscar os Cart\xf5es de Cr\xe9dito",e.stack)})},a.handleChangePage=function(e,t){a.setState({page:t},function(){a.fetchAll()})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value},function(){a.fetchAll()})},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.handleModalOpen=function(){a.setState({selectedId:null},function(){a.setState({open:!0})})},a.handleModalClose=function(){a.setState({open:!1,selectedId:"",page:0},function(){a.fetchAll()})},a.editCreditCard=function(e){a.setState({selectedId:e.currentTarget.value},function(){a.setState({open:!0})})},a.removeCreditCard=function(e){window.confirm("Esta opera\xe7\xe3o \xe9 irrevers\xedvel, deseja continuar?")&&He.delete("/creditcard/".concat(e.currentTarget.value)).then(function(e){return a.fetchAll()}).catch(function(e){return a.openAlertDialog("Erro ao Confirmar a opera\xe7\xe3o",e.stack)})},a.fetchAll=a.fetchAll.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleAlertClose=a.handleAlertClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChangePage=a.handleChangePage.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleModalClose=a.handleModalClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleModalOpen=a.handleModalOpen.bind(Object(Ge.a)(Object(Ge.a)(a))),a.openAlertDialog=a.openAlertDialog.bind(Object(Ge.a)(Object(Ge.a)(a))),a.editCreditCard=a.editCreditCard.bind(Object(Ge.a)(Object(Ge.a)(a))),a.removeCreditCard=a.removeCreditCard.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={open:!1,selectedId:"",page:0,rowsPerPage:5,totalElements:0,data:[],alertOpen:!1,title:"",message:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAll()}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("main",null,o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(ie.a,{className:t.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Meus Cart\xf5es"),o.a.createElement(Lt.a,null,o.a.createElement(V.a,{title:"Adicionar Cart\xe3o",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",onClick:this.handleModalOpen},o.a.createElement(ue.a,null)))),o.a.createElement(Rt,{open:this.state.open,selectedId:this.state.selectedId,onClose:this.handleModalClose}),o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement(ht.a,{className:t.root},o.a.createElement(Ze.a,{className:t.table},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(nt.a,null,"Apelido"),o.a.createElement(nt.a,null,"N\xfamero"),o.a.createElement(nt.a,null,"Propriet\xe1rio"),o.a.createElement(nt.a,null,"Validade"),o.a.createElement(nt.a,null,"A\xe7\xf5es"))),o.a.createElement(tt.a,null,this.state.data.map(function(t){return o.a.createElement(it.a,{key:t._id},o.a.createElement(nt.a,null,t.name),o.a.createElement(nt.a,null,t.number),o.a.createElement(nt.a,null,t.owner),o.a.createElement(nt.a,null,t.validThru),o.a.createElement(nt.a,null,o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Lt.a,{style:{margin:"2px"}},o.a.createElement(V.a,{title:"Editar",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",value:t._id,onClick:e.editCreditCard},o.a.createElement(Yt.a,null)))),o.a.createElement(Lt.a,{style:{margin:"2px"}},o.a.createElement(V.a,{title:"Excluir",placement:"bottom",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",value:t._id,onClick:e.removeCreditCard},o.a.createElement(Ut.a,null)))))))})),o.a.createElement(ct.a,null,o.a.createElement(it.a,null,o.a.createElement(ut.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:this.state.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ea})))))))))}}]),t}(o.a.Component),aa=Object(C.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700},card:{minWidth:275,margin:"10px"}}})(ta),na=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).formValid=function(){return a.state.nome&&a.state.email&&a.state.banco&&a.state.agencia&&a.state.conta},a.find=function(e){He.get("/contact/".concat(e)).then(function(e){a.setState({id:e.data.data._id,nome:e.data.data.name,banco:e.data.data.bank,email:e.data.data.email,agencia:e.data.data.agency,conta:e.data.data.account})}).catch(function(e){return a.openAlertDialog("Erro ao Buscar o Objeto",e.stack)})},a.handleClose=function(){a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.handleClose=a.handleClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChange=a.handleChange.bind(Object(Ge.a)(Object(Ge.a)(a))),a.save=a.save.bind(Object(Ge.a)(Object(Ge.a)(a))),a.find=a.find.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={open:!0,id:"",nome:"",email:"",banco:"",agencia:"",conta:"",alertOpen:!1,title:"",message:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"save",value:function(){var e=this,t={_id:this.state.id,name:this.state.nome,bank:this.state.banco,email:this.state.email,agency:this.state.agencia,account:this.state.conta};this.state.id?He.put("/contact",t).then(function(t){return e.handleClose()}).catch(function(t){return e.openAlertDialog("Erro Ao Salvar os Dados",t.stack)}):(delete t._id,He.post("/contact",t).then(function(t){return e.handleClose()}).catch(function(t){return e.openAlertDialog("Erro Ao Salvar os Dados",t.stack)}))}},{key:"title",value:function(){return this.state.id?"Editar Contato/Favorecido":"Adicionar novo Contato/Favorecido"}},{key:"componentWillReceiveProps",value:function(){var e=this.props.selectedId;e?this.find(e):this.setState({open:!0,id:"",nome:"",banco:"",email:"",agencia:"",conta:"",alertOpen:!1,title:"",message:""})}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.onClose,e.selectedId,Object(pt.a)(e,["classes","onClose","selectedId"]));return o.a.createElement(vt.a,Object.assign({onClose:this.handleClose},t),o.a.createElement(jt.a,null,o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement("div",null,o.a.createElement(D.a,{variant:"h4",component:"h5"},this.title()),o.a.createElement(Et.a,{id:"input-nome",label:"Nome",value:this.state.nome,onChange:this.handleChange("nome"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-banco",label:"Banco",value:this.state.banco,onChange:this.handleChange("banco"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-agencia",label:"Agencia",value:this.state.agencia,onChange:this.handleChange("agencia"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-conta",label:"Conta",value:this.state.conta,onChange:this.handleChange("conta"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(ft.a,{disabled:!this.formValid(),variant:"contained",type:"button",color:"primary",onClick:this.save},"Salvar"))))}}]),t}(o.a.Component),oa=Object(C.withStyles)(function(e){return{}})(na),la=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).fetchAll=function(){He.get("/contact/".concat(a.state.page+1,"/").concat(a.state.rowsPerPage)).then(function(e){a.setState({data:e.data.data.docs,totalElements:e.data.data.total})}).catch(function(e){a.openAlertDialog("Erro ao Buscar os Contatos",e.stack)})},a.handleChangePage=function(e,t){a.setState({page:t},function(){a.fetchAll()})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value},function(){a.fetchAll()})},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.editContact=function(e){a.setState({selectedId:e.currentTarget.value},function(){a.setState({open:!0})})},a.removeContact=function(e){window.confirm("Esta opera\xe7\xe3o \xe9 irrevers\xedvel, deseja continuar?")&&He.delete("/contact/".concat(e.currentTarget.value)).then(function(e){return a.fetchAll()}).catch(function(e){return a.openAlertDialog("Erro ao Confirmar a opera\xe7\xe3o",e.stack)})},a.handleModalOpen=function(){a.setState({selectedId:null},function(){a.setState({open:!0})})},a.handleModalClose=function(){a.setState({open:!1,selectedId:"",page:0},function(){a.fetchAll()})},a.fetchAll=a.fetchAll.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleAlertClose=a.handleAlertClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChangePage=a.handleChangePage.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChangeRowsPerPage=a.handleChangeRowsPerPage.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleModalClose=a.handleModalClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleModalOpen=a.handleModalOpen.bind(Object(Ge.a)(Object(Ge.a)(a))),a.openAlertDialog=a.openAlertDialog.bind(Object(Ge.a)(Object(Ge.a)(a))),a.editContact=a.editContact.bind(Object(Ge.a)(Object(Ge.a)(a))),a.removeContact=a.removeContact.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={open:!1,selectedId:"",page:0,rowsPerPage:5,totalElements:0,data:[],alertOpen:!1,title:"",message:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAll()}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("main",null,o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(ie.a,{className:t.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{style:{marginTop:"10px"},variant:"h4",gutterBottom:!0,component:"h2"},"Contatos e Favorecidos"),o.a.createElement(Lt.a,null,o.a.createElement(V.a,{title:"Adicionar Contato",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",onClick:this.handleModalOpen},o.a.createElement(ue.a,null)))),o.a.createElement(oa,{open:this.state.open,selectedId:this.state.selectedId,onClose:this.handleModalClose}),o.a.createElement("div",{style:{marginTop:"10px"}},o.a.createElement(ht.a,{className:t.root},o.a.createElement(Ze.a,{className:t.table},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(nt.a,null,"Nome"),o.a.createElement(nt.a,null,"Data de Cadastro"),o.a.createElement(nt.a,null,"Banco"),o.a.createElement(nt.a,null,"A\xe7\xf5es"))),o.a.createElement(tt.a,null,this.state.data.map(function(t){return o.a.createElement(it.a,{key:t._id,value:t},o.a.createElement(nt.a,null,t.name),o.a.createElement(nt.a,null,xe()(t.created).format("DD/MM/YYYY hh:mm:ss")),o.a.createElement(nt.a,null,t.bank),o.a.createElement(nt.a,null,o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(Lt.a,{style:{margin:"2px"}},o.a.createElement(V.a,{title:"Editar",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",value:t._id,onClick:e.editContact},o.a.createElement(Yt.a,null)))),o.a.createElement(Lt.a,{style:{margin:"2px"}},o.a.createElement(V.a,{title:"Excluir",placement:"bottom",TransitionComponent:_t.a},o.a.createElement(T.a,{color:"inherit",value:t._id,onClick:e.removeContact},o.a.createElement(Ut.a,null)))))))})),o.a.createElement(ct.a,null,o.a.createElement(it.a,null,o.a.createElement(ut.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:this.state.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ea})))))))))}}]),t}(o.a.Component),ra=Object(C.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700},card:{minWidth:275,margin:"10px"}}})(la),ia=a(288),sa=a.n(ia),ca=a(89),da=a.n(ca),ua=a(88),ma=a.n(ua),ha=a(129),pa=a.n(ha),ga=a(133),fa=a.n(ga),Ca=function(e){return{formControl:{margin:"10px",width:"98%"}}},Ea=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={openCreditDialog:!1,creditCards:[]},a.handleClose=function(){a.props.onClose(a.props.selectedValue)},a.handleListItemClick=function(e){a.props.onClose(e)},a.findAllCards=function(){He.get("/creditcard/1/100").then(function(e){a.setState({creditCards:e.data.data.docs})})},a.addCreditCard=function(){a.setState({openCreditDialog:!0})},a.handleModalClose=function(){a.setState({openCreditDialog:!1},function(){a.findAllCards()})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.findAllCards()}},{key:"render",value:function(){var e=this,t=this.props,a=(t.classes,t.onClose,t.selectedValue,Object(pt.a)(t,["classes","onClose","selectedValue"]));return o.a.createElement(vt.a,Object.assign({onClose:this.handleClose},a),o.a.createElement(Rt,{open:this.state.openCreditDialog,onClose:this.handleModalClose}),o.a.createElement(At.a,{id:"simple-dialog-title"},"Selecione um Cartao de Cr\xe9dito"),o.a.createElement("div",null,o.a.createElement(P.a,null,this.state.creditCards.map(function(t){return o.a.createElement(z.a,{button:!0,onClick:function(){return e.handleListItemClick(t)},key:t._id},o.a.createElement(X.a,{primary:t.name}))}),o.a.createElement(z.a,{button:!0,onClick:function(){return e.addCreditCard()}},o.a.createElement(sa.a,null,o.a.createElement(Lt.a,null,o.a.createElement(ue.a,null))),o.a.createElement(X.a,{primary:"Cadastrar Cart\xe3o de Cr\xe9dito"})))))}}]),t}(o.a.Component),ba=Object(C.withStyles)(Ca)(Ea),va=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).formValid=function(){return!a.state.id&&a.state.contato&&a.state.valor&&a.state.identificacao},a.validaValorTransacao=function(e){if(a.state.valor>1e3){var t=window.prompt("Para transa\xe7\xf5es maiores que R$1000,00 \xe9 necess\xe1rio confirmar a senha."),n=We().user.email;Ve(n,t).then(function(t){t.data.token&&(_e(t.data),e())}).catch(function(e){a.openAlertDialog("Falha no Login","Senha inv\xe1lida"),a.setState({tentativas:a.state.tentativas+1}),a.state.tentativas>3&&(window.alert("Realize o login novamente, N\xfamero de tentativas de login ultrapassadas."),ze())})}else e()},a.find=function(e){He.get("/transfer/".concat(e)).then(function(e){var t=a.state.contatos.filter(function(t){return t.user===e.data.data.favored._id});t=t?t[0]:null,a.setState({id:e.data.data._id,contato:t,valor:e.data.data.value,identificacao:e.data.data.identification})}).catch(function(e){return a.openAlertDialog("Erro ao Buscar o Objeto",e.stack)})},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.findAllContacts=function(){He.get("/contact/1/100").then(function(e){a.setState({contatos:e.data.data.docs})}).catch(function(e){return a.openAlertDialog("Erro ao Buscar os Contatos",e.stack)})},a.handleClose=function(){a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a.handleChangeContato=function(e){a.setState(Object(h.a)({},e.target.name,e.target.value))},a.handleCreditCardClose=function(e){a.setState({cartaoCreditoUtilizado:e,openSelectCardDialog:!1},function(){if(a.state.cartaoCreditoUtilizado){var e={favored:a.state.contato.user,value:a.state.valor,identification:a.state.identificacao,valueOnCredit:a.state.valor-a.state.valorEmCredito,creditCardUsed:a.state.cartaoCreditoUtilizado};He.post("/transfer",e).then(function(e){return a.handleClose()}).catch(function(e){return a.openAlertDialog("Erro Ao Salvar os Dados",e.stack)})}else window.alert("Cart\xe3o de Cr\xe9dito N\xe3o foi Selecionado. Opera\xe7\xe3o Cancelada!")})},a.handleClose=a.handleClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleChange=a.handleChange.bind(Object(Ge.a)(Object(Ge.a)(a))),a.save=a.save.bind(Object(Ge.a)(Object(Ge.a)(a))),a.openContactModal=a.openContactModal.bind(Object(Ge.a)(Object(Ge.a)(a))),a.closeContactModal=a.closeContactModal.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={id:"",contatos:[],contato:null,valor:null,identificacao:"",valorEmCredito:0,cartaoCreditoUtilizado:null,openDialog:!1,openSelectCardDialog:!1,alertOpen:!1,title:"",message:"",tentativas:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"save",value:function(){var e=this;this.state.id||this.validaValorTransacao(function(){He.get("/transaction/mybalance").then(function(t){if(e.state.valor>t.data.data.value)window.confirm("O valor da Transfer\xeancia \xe9 maior que o saldo atual. \n            Ser\xe1 utilizado um cart\xe3o de cr\xe9dito para a opera\xe7\xe3o. \n            Deseja continuar?")?e.setState({valorEmCredito:t.data.data.value},function(){e.openCreditCardModal()}):window.alert("Opera\xe7\xe3o Cancelada");else{var a={favored:e.state.contato.user,value:e.state.valor,identification:e.state.identificacao,valueOnCredit:0,creditCardUsed:null};He.post("/transfer",a).then(function(t){return e.handleClose()}).catch(function(t){return e.openAlertDialog("Erro Ao Salvar os Dados",t.stack)})}}).catch(function(t){return e.openAlertDialog("Erro Ao Buscar o Saldo Atual",t.stack)})})}},{key:"componentWillReceiveProps",value:function(){this.findAllContacts();var e=this.props.selectedId;e?(this.find(e),this.setState({openDialog:!1,openSelectCardDialog:!1,alertOpen:!1,title:"",message:"",tentativas:0})):this.setState({id:"",contato:null,valor:null,identificacao:"",valorEmCredito:0,cartaoCreditoUtilizado:null,openDialog:!1,openSelectCardDialog:!1,alertOpen:!1,title:"",message:"",tentativas:0})}},{key:"openContactModal",value:function(){this.setState({openDialog:!0})}},{key:"closeContactModal",value:function(){var e=this;this.setState({openDialog:!1},function(){return e.findAllContacts()})}},{key:"openCreditCardModal",value:function(){this.setState({cartaoCreditoUtilizado:null,openSelectCardDialog:!0})}},{key:"title",value:function(){return this.state.id?"Detalhes da Transfer\xeancia":"Nova Transfer\xeancia"}},{key:"render",value:function(){var e=this.props,t=e.classes,a=(e.onClose,Object(pt.a)(e,["classes","onClose"]));return o.a.createElement(vt.a,Object.assign({onClose:this.handleClose},a),o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(ba,{selectedValue:this.state.cartaoCreditoUtilizado,open:this.state.openSelectCardDialog,onClose:this.handleCreditCardClose}),o.a.createElement(jt.a,null,o.a.createElement("div",null,o.a.createElement(D.a,{variant:"h4",component:"h3"},this.title()),o.a.createElement(da.a,{className:t.formControl},o.a.createElement(ma.a,{shrink:this.state.contato,htmlFor:"select-contato"},"Favorecido(a)"),o.a.createElement(pa.a,{disabled:this.state.id,value:this.state.contato,onChange:this.handleChangeContato,inputProps:{name:"contato",id:"select-contato"}},o.a.createElement(fa.a,{value:""},o.a.createElement("em",null,"None")),this.state.contatos.map(function(e){return o.a.createElement(fa.a,{value:e},e.name)}))),o.a.createElement(ft.a,{disabled:this.state.id,type:"button",variant:"text",color:"accent",onClick:this.openContactModal},"Adicionar Novo Favorecido"),o.a.createElement(oa,{open:this.state.openDialog,onClose:this.closeContactModal}),o.a.createElement(Et.a,{id:"input-valor",label:"Valor",disabled:this.state.id,value:this.state.valor,onChange:this.handleChange("valor"),margin:"normal",InputLabelProps:{shrink:null!=this.state.valor},type:"number",variant:"outlined",style:{width:"100%"}}),o.a.createElement(Et.a,{id:"input-identificap",disabled:this.state.id,label:"Identifica\xe7\xe3o",value:this.state.identificacao,onChange:this.handleChange("identificacao"),margin:"normal",variant:"outlined",style:{width:"100%"}}),o.a.createElement(ft.a,{disabled:!this.formValid(),variant:"contained",type:"button",color:"primary",onClick:this.save},"Salvar"))))}}]),t}(o.a.Component),Oa=Object(C.withStyles)(Ca)(va),ja=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,selectedId:"",page:0,rowsPerPage:5,totalElements:0,data:[],alertOpen:!1,title:"",message:""},a.fetchAll=function(){He.get("/transfer/".concat(a.state.page+1,"/").concat(a.state.rowsPerPage)).then(function(e){a.setState({data:e.data.data.docs,totalElements:e.data.data.total})}).catch(function(e){a.openAlertDialog("Erro ao Buscar os Tranfer\xeancias",e.stack)})},a.handleModalOpen=function(){a.setState({open:!0})},a.handleModalClose=function(){a.setState({open:!1})},a.handleChangePage=function(e,t){a.setState({page:t},function(){a.fetchAll()})},a.handleChangeRowsPerPage=function(e){a.setState({page:0,rowsPerPage:e.target.value},function(){a.fetchAll()})},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.handleModalOpen=function(){a.setState({selectedId:null},function(){a.setState({open:!0})})},a.handleModalClose=function(){a.setState({open:!1,selectedId:"",page:0},function(){a.fetchAll()})},a.detailTransfer=function(e){a.setState({selectedId:e.currentTarget.value},function(){a.setState({open:!0})})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchAll()}},{key:"render",value:function(){var e=this,t=this.props.classes;return o.a.createElement("main",null,o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(ie.a,{className:t.card},o.a.createElement(ce.a,null,o.a.createElement(ft.a,{variant:"contained",color:"primary",onClick:this.handleModalOpen},"Realizar uma nova Transfer\xeancia"),o.a.createElement(Oa,{open:this.state.open,selectedId:this.state.selectedId,onClose:this.handleModalClose}))),o.a.createElement(ie.a,{className:t.card},o.a.createElement(ce.a,null,o.a.createElement(D.a,{variant:"h4",gutterBottom:!0,component:"h2"},"Minhas Transfer\xeancias"),o.a.createElement("div",null,o.a.createElement(ht.a,{className:t.root},o.a.createElement(Ze.a,{className:t.table},o.a.createElement(lt.a,null,o.a.createElement(it.a,null,o.a.createElement(nt.a,null,"Data da Transfer\xeancia"),o.a.createElement(nt.a,null,"Favorecido"),o.a.createElement(nt.a,null,"Identifica\xe7\xe3o"),o.a.createElement(nt.a,null,"Valor"),o.a.createElement(nt.a,null,"Status"),o.a.createElement(nt.a,null,"A\xe7\xf5es"))),o.a.createElement(tt.a,null,this.state.data.map(function(t){return o.a.createElement(it.a,{key:t._id},o.a.createElement(nt.a,null,xe()(t.created).format("DD/MM/YYYY hh:mm:ss")),o.a.createElement(nt.a,null,t.favored.name),o.a.createElement(nt.a,null,t.identification),o.a.createElement(nt.a,null,"R$ ".concat(t.value.toLocaleString(void 0,{minimumFractionDigits:2}))),o.a.createElement(nt.a,null,t.status),o.a.createElement(nt.a,null,o.a.createElement(ft.a,{variant:"contained",type:"button",color:"default",value:t._id,onClick:e.detailTransfer},"Detalhes")))}))),o.a.createElement(ct.a,null,o.a.createElement(it.a,null,o.a.createElement(ut.a,{rowsPerPageOptions:[5,10,25],colSpan:5,count:this.state.totalElements,rowsPerPage:this.state.rowsPerPage,page:this.state.page,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:ea}))))))),o.a.createElement(Je,null))}}]),t}(o.a.Component),wa=Object(C.withStyles)(function(e){return{root:{width:"100%",overflowX:"auto"},table:{minWidth:700},card:{minWidth:275,margin:"10px"}}})(ja),ya=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={open:!0,oldPass:"",newPass:"",confirmNewPass:"",alertOpen:!1,title:"",message:""},a.handleClose=function(){a.setState({open:!1}),a.props.history.push("/home")},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.changePass=function(){a.state.oldPass&&a.state.newPass&&a.state.confirmNewPass?a.state.newPass!==a.state.confirmNewPass?a.openAlertDialog("Senhas n\xe3o conferem","Confirme corretamente a nova senha"):Ve(We().user.email,a.state.oldPass).then(function(e){e.data.token&&Ye(We().user.email,a.state.oldPass,a.state.newPass).then(function(e){e.data.status?(window.alert("Senha alterada com sucesso. Fa\xe7a o login novamente com a nova senha"),ze()):a.openAlertDialog("Erro ao Trocar a Senha",e.data.message)}).catch(function(e){return a.openAlertDialog("Erro ao Trocar a Senha",e.stack)})}).catch(function(e){return a.openAlertDialog("Erro ao realizar o Login",e.stack)}):a.openAlertDialog("Campos n\xe3o informados","Preencha todos os campos do formul\xe1rio")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(vt.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(At.a,{id:"form-dialog-title"},"Altera\xe7\xe3o de Senha"),o.a.createElement(jt.a,null,o.a.createElement(Et.a,{autoFocus:!0,margin:"dense",id:"oldpass",value:this.state.oldPass,onChange:this.handleChange("oldPass"),label:"Senha Antiga",type:"password",fullWidth:!0}),o.a.createElement(Et.a,{margin:"dense",id:"newpass",value:this.state.newPass,onChange:this.handleChange("newPass"),label:"Nova Senha",type:"password",fullWidth:!0}),o.a.createElement(Et.a,{margin:"dense",id:"confirmpass",value:this.state.confirmNewPass,onChange:this.handleChange("confirmNewPass"),label:"Confirmar Nova Senha",type:"password",fullWidth:!0})),o.a.createElement(yt.a,null,o.a.createElement(ft.a,{onClick:this.handleClose,color:"primary"},"Cancelar"),o.a.createElement(ft.a,{onClick:this.changePass,color:"primary"},"Alterar"))))}}]),t}(o.a.Component),ka=Object(le.e)(ya),Sa=function(){return o.a.createElement(le.c,null,o.a.createElement(le.a,{path:"/home",component:$e}),o.a.createElement(le.a,{path:"/creditcards",component:aa}),o.a.createElement(le.a,{path:"/contacts",component:ra}),o.a.createElement(le.a,{path:"/transfers",component:wa}),o.a.createElement(le.a,{path:"/changepass",component:ka}),o.a.createElement(le.a,{path:"/",component:function(){return o.a.createElement("h1",null,"Welcome")}}),o.a.createElement(le.a,{path:"*",component:function(){return o.a.createElement("h1",null,"Page not Found")}}))},Pa=a(135),Aa=a.n(Pa),Da=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={open:!0},a.doLogout=function(){ze()},a.handleDrawerOpen=function(){a.setState({open:!0})},a.handleDrawerClose=function(){a.setState({open:!1})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement("div",{className:e.root},o.a.createElement(b.a,null),o.a.createElement(w.a,{position:"absolute",className:f()(e.appBar,this.state.open&&e.appBarShift)},o.a.createElement(k.a,{disableGutters:!this.state.open,className:e.toolbar},o.a.createElement(T.a,{color:"inherit","aria-label":"Abrir o Menu",onClick:this.handleDrawerOpen,className:f()(e.menuButton,this.state.open&&e.menuButtonHidden)},o.a.createElement(I.a,null)),o.a.createElement(D.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Ekki"),o.a.createElement(V.a,{title:"Logout",TransitionComponent:Aa.a},o.a.createElement(T.a,{"aria-label":"Logout",color:"inherit",onClick:this.doLogout},o.a.createElement(W.a,null))))),o.a.createElement(O.a,{variant:"permanent",classes:{paper:f()(e.drawerPaper,!this.state.open&&e.drawerPaperClose)},open:this.state.open},o.a.createElement("div",{className:e.toolbarIcon},o.a.createElement(T.a,{onClick:this.handleDrawerClose},o.a.createElement(F.a,null))),o.a.createElement(x.a,null),o.a.createElement(P.a,null,oe)),o.a.createElement("main",{className:e.content},o.a.createElement("div",{className:e.appBarSpacer}),o.a.createElement(Sa,null)))}}]),t}(o.a.Component),Ma=Object(C.withStyles)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(p.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(h.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:7*e.spacing.unit},e.breakpoints.up("sm"),{width:9*e.spacing.unit}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,padding:3*e.spacing.unit,height:"100vh",overflow:"auto"},h5:{marginBottom:2*e.spacing.unit}}})(Da),xa=a(86),Na=a.n(xa),Ta=a(295),Ba=a.n(Ta),Ia=a(7),Ra=a.n(Ia);function Fa(e){return o.a.createElement(Aa.a,Object.assign({direction:"up"},e))}var La=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",newPass:"",tokenSended:!1,token:"",alertOpen:!1,title:"",message:""},a.handleClose=function(){a.props.onClose()},a.handleChange=function(e){return function(t){a.setState(Object(h.a)({},e,t.target.value))}},a.handleAlertClose=function(){a.setState({alertOpen:!1})},a.openAlertDialog=function(e,t){a.setState({alertOpen:!0,title:e,message:t})},a.requestToken=function(){He.post("/user/forgotpassword",{email:a.state.email}).then(function(e){e.data.status?(a.setState({tokenSended:!0}),a.openAlertDialog("Token enviado","Cheque sua caixa de email")):a.openAlertDialog("Erro ao Solicitar o Token",e.data.message)}).catch(function(e){a.openAlertDialog("Erro ao Solicitar o Token",e.stack)})},a.changePass=function(){a.state.email&&a.state.token&&a.state.newPass?Ye(a.state.email,null,a.state.newPass,a.state.token).then(function(e){e.data.status?(window.alert("Senha alterada com sucesso. Fa\xe7a o login novamente com a nova senha"),ze()):a.openAlertDialog("Erro ao Trocar a Senha",e.data.message)}).catch(function(e){return a.openAlertDialog("Erro ao Trocar a Senha",e.stack)}):a.openAlertDialog("Campos n\xe3o informados","Preencha todos os campos do formul\xe1rio")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.onClose,Object(pt.a)(e,["onClose"]));return o.a.createElement("div",null,o.a.createElement(vt.a,Object.assign({TransitionComponent:Fa,keepMounted:!0,onClose:this.handleClose},t),o.a.createElement(Nt,{open:this.state.alertOpen,title:this.state.title,message:this.state.message,onClose:this.handleAlertClose}),o.a.createElement(At.a,{id:"form-dialog-title"},"Recupera\xe7\xe3o de Senha"),o.a.createElement(jt.a,null,o.a.createElement(Et.a,{autoFocus:!0,margin:"dense",id:"emailRecover",value:this.state.email,onChange:this.handleChange("email"),label:"Email",type:"text",fullWidth:!0}),o.a.createElement(ft.a,{onClick:this.requestToken,color:"primary"},"Solicitar Token por Email"),o.a.createElement(Et.a,{margin:"dense",id:"newpass",disabled:!this.state.tokenSended,value:this.state.token,onChange:this.handleChange("token"),label:"Token",type:"text",fullWidth:!0}),o.a.createElement(Et.a,{margin:"dense",id:"confirmpass",disabled:!this.state.token,value:this.state.newPass,onChange:this.handleChange("newPass"),label:"Nova Senha",type:"password",fullWidth:!0})),o.a.createElement(yt.a,null,o.a.createElement(ft.a,{onClick:this.handleClose,color:"primary"},"Cancelar"),o.a.createElement(ft.a,{onClick:this.changePass,color:"primary"},"Alterar"))))}}]),t}(o.a.Component),Wa=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).errorTitle="Erro no Login",a.handleChange=function(e){a.setState(Object(h.a)({},e.target.id,e.target.value))},a.handleModalClose=function(){a.setState({openDialog:!1})},a.handleSubmit=function(e){e.preventDefault(),a.doLogin()},a.handleForgotPassDialog=function(){a.setState({forgotDialog:!1})},a.forgotPassword=function(){a.setState({forgotDialog:!0})},a.handleChange=a.handleChange.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleModalClose=a.handleModalClose.bind(Object(Ge.a)(Object(Ge.a)(a))),a.openErrorDialog=a.openErrorDialog.bind(Object(Ge.a)(Object(Ge.a)(a))),a.doLogin=a.doLogin.bind(Object(Ge.a)(Object(Ge.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(Ge.a)(Object(Ge.a)(a))),a.state={email:"",password:"",openDialog:!1,title:"",message:"",forgotDialog:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"openErrorDialog",value:function(e,t){this.setState({openDialog:!0,title:e,message:t})}},{key:"doLogin",value:function(){var e=this;Ve(this.state.email,this.state.password).then(function(t){t.data.token?(_e(t.data),window.location.replace("/home")):e.openErrorDialog(e.errorTitle,t.data.err)}).catch(function(t){e.openErrorDialog(e.errorTitle,t.response?t.response.data.err:t.stack)})}},{key:"render",value:function(){return o.a.createElement("main",{className:this.props.classes.main},o.a.createElement(b.a,null),o.a.createElement(Nt,{open:this.state.openDialog,title:this.state.title,message:this.state.message,onClose:this.handleModalClose}),o.a.createElement(La,{open:this.state.forgotDialog,onClose:this.handleForgotPassDialog}),o.a.createElement(ht.a,{className:this.props.classes.paper},o.a.createElement(Lt.a,{className:this.props.classes.avatar},o.a.createElement(Ba.a,null)),o.a.createElement(D.a,{component:"h1",variant:"h5"},"Login"),o.a.createElement("form",{className:this.props.classes.form,onSubmit:this.handleSubmit},o.a.createElement(da.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(ma.a,{htmlFor:"email"},"Endere\xe7o de Email"),o.a.createElement(Na.a,{id:"email",name:"email",type:"email",value:this.state.email,onChange:this.handleChange,autoComplete:"email",autoFocus:!0})),o.a.createElement(da.a,{margin:"normal",required:!0,fullWidth:!0},o.a.createElement(ma.a,{htmlFor:"password"},"Senha"),o.a.createElement(Na.a,{name:"password",type:"password",id:"password",value:this.state.password,onChange:this.handleChange,autoComplete:"current-password"})),o.a.createElement(ft.a,{type:"button",fullWidth:!0,onClick:this.forgotPassword,variant:"text",color:"default"},"Esqueceu sua senha?"),o.a.createElement(ft.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",disabled:!(this.state.email.length>0&&this.state.password.length>0),className:this.props.classes.submit},"Enviar"))))}}]),t}(o.a.Component),_a=Ra()(function(e){return{main:Object(h.a)({width:"80%",display:"block",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},e.breakpoints.up(400+3*e.spacing.unit*2),{width:"20%",marginLeft:"auto",marginRight:"auto"}),paper:{marginTop:e.spacing.unit,display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(2*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px ").concat(3*e.spacing.unit,"px")},avatar:{margin:e.spacing.unit,backgroundColor:e.palette.primary.main},form:{width:"100%",marginTop:e.spacing.unit},submit:{marginTop:3*e.spacing.unit}}})(Wa),Va=a(296),Ya=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).setTheme=function(){return Object(C.createMuiTheme)({palette:{primary:{main:"#2F52E0"},secondary:{main:"#D80032"},error:Va.yellow,contrastThreshold:5,tonalOffset:10,type:"light"},overrides:{},typography:{useNextVariants:!0}})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.setTheme();return o.a.createElement(C.MuiThemeProvider,{theme:e},Le()?o.a.createElement("div",null,o.a.createElement(m.a,null,o.a.createElement(Ma,null))):o.a.createElement(_a,null))}}]),t}(n.Component);r.a.render(o.a.createElement(Ya,null),document.getElementById("root"))}},[[298,1,2]]]);
//# sourceMappingURL=main.a8b1a66a.chunk.js.map